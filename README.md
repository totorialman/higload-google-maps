# Google Maps

## 1. Тема и целевая аудитория
**Google Maps** — сервис Google для просмотра карт, спутниковых снимков, панорам улиц и построения маршрутов в реальном времени.

### Функционал MVP
- Просмотр карты  
- Построение маршрутов  
- Поиск мест и организаций  
- Просмотр информации о местах  
- Загрузка офлайн-карт  

### Целевая аудитория
MAU: **2 млрд пользователей**[^1]

| Страна   | Доля | Пользователей в месяц |
|----------|------|------------------------|
| США      | 11,32 % | 226 млн |
| Турция   | 8,77 %  | 175 млн |
| Япония   | 8,24 %  | 165 млн |
| Индия    | 6,64 %  | 133 млн |
| Бразилия | 6,14 %  | 123 млн |
| Остальные| 58,89 % | 1178 млн |

---

## 2. Расчет нагрузки
### Продуктовые метрики

| Метрика | Значение | Источник |
|---------|----------|----------|
| MAU | 2 млрд | [^1] |
| DAU (stickiness 30%) | 600 млн | [^3] |
| Среднее число запусков приложения в месяц | 50 | [^3] |
| Среднее число сессий в день | 1,67 | расчёт |
| Количество мест в базе | 250 млн | [^1] |

---

### Среднее количество действий одного пользователя в день

| Действие                        | Повторений в день | Обоснование |
|---------------------------------|-------------------|-------------|
| Отображение карты               | 2               | В среднем 50 запусков в месяц ≈ 1,67 в день, учитываем повторные загрузки |
| Отображение информации о местах | 3,34              | В среднем 2 запроса на сессию при 1,67 сессии в день 1,67 * 2 ≈ 3,34|
| Поиск мест и организаций        | 2,37              | 71% сессий включают поиск, по 2 запроса 1,67 * 71% * 2 ≈ 2,37|
| Построение маршрутов            | 1,25              | 75% сессий включают построение маршрута 1,67 * 0,75 ≈ 1,25|
| Загрузка оффлайн-карт           | 0,017             | Загрузка карт своего региона + их обновления ≈ 1 раз в 2 месяца |

---

### Технические метрики

#### Хранилище

**Информация о местах**  
В базе ~250 млн объектов[^1]. Средний размер записи:

| Поле                     | Размер |
|---------------------------|--------|
| ID места                  | 16 Б   |
| Название                  | 50 Б   |
| Категория                 | 16 Б   |
| Координаты                | 16 Б   |
| Часы работы               | 200 Б  |
| Отзывы (10 шт)            | 1 КБ   |
| Рейтинг                   | 8 Б    |
| Доп. данные (тел., сайт)  | 200 Б  |

**Средний размер объекта ≈ 3 КБ.**

- Информация о местах: 250 млн × 3 КБ ≈ **720 ГБ**  
- Размер кэша тайлов (по данным OSM): **1250 ГБ**  

**Итоговое хранилище ≈ 2 ТБ.**

---

### RPS по типам запросов

**DAU = 600 млн.**  
**Среднее время суток = 86 400 секунд.**  
Пиковая нагрузка = 2× среднего значения.

| Тип запроса                | Действий/день на пользователя | Средний RPS | Пиковый RPS |
|-----------------------------|-------------------------------|-------------|-------------|
| Отображение карты           | 2,5                           | 17,4K       | 34,8K |
| Информация о местах         | 3,34                          | 23,2K       | 46,4K |
| Поиск мест                  | 2,37                          | 16,5K       | 33K   |
| Построение маршрутов        | 1,25                          | 8,7K        | 17,4K |
| Загрузка оффлайн-карт       | 0,017                         | 118         | 236   |

---

### Сетевой трафик

| Тип запроса                | Размер 1 запроса | Средний RPS | Пиковый RPS | Пиковый трафик |
|-----------------------------|------------------|-------------|-------------|----------------|
| Отображение карты           | 7,2 КБ (12 тайлов) | 17,4K | 34,8K | ~19 Гбит/с |
| Информация о местах         | 3 КБ             | 23,2K | 46,4K | ~1,1 Гбит/с |
| Поиск мест                  | 1 КБ             | 16,5K | 33K   | ~0,26 Гбит/с |
| Построение маршрутов        | 5,2 КБ           | 8,7K  | 17,4K | ~0,7 Гбит/с |
| Загрузка оффлайн-карт       | 10 МБ            | 118   | 236   | ~19 Гбит/с |

---

## Источники
[^1]: [Почему Google?](https://mapsplatform.google.com/why-google/)  
[^2]: [Анализ веб-трафика Google Maps](https://pro.similarweb.com/#/digitalsuite/websiteanalysis/audience-geography/*/999/3m?key=maps.google.com&webSource=Total)  
[^3]: [Unique users](https://www.emarketer.com/chart/234831/leading-us-map-navigation-smartphone-apps-ranked-by-monthly-unique-users-aug-2019)
[^4]: [Как часто россияне используют геосервисы](https://iom.anketolog.ru/2020/02/12/geoservisy)
[^31]: [Статистика и тренды Google Maps](https://www.loopexdigital.com/blog/google-maps-statistics)  
[^41]: [Google Maps Статистика](https://www.enterpriseappstoday.com/stats/google-maps-statistics.html)  
[^51]: [Википедия](https://en.wikipedia.org/wiki/List_of_most-downloaded_Google_Play_applications)  
[^61]: [37 фактов о Google Maps](https://center.ai/blog/google-maps-statistics-and-interesting-facts/)  
[^17]: [Google Maps 101](https://blog.google/products/maps/google-maps-101-how-ai-helps-predict-traffic-and-determine-routes/)  
[^81]: [29 Google Maps Statistics](https://www.onthemap.com/blog/google-maps-statistics/)  

